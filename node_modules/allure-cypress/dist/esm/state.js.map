{"version":3,"file":"state.js","names":["getAllureState","state","Cypress","env","initialized","messages","testPlan","undefined","isAllureInitialized","setAllureInitialized","getRuntimeMessages","setRuntimeMessages","value","enqueueRuntimeMessage","message","push","getAllureTestPlan"],"sources":["../../src/state.ts"],"sourcesContent":["import type { AllureSpecState, CypressMessage } from \"./model.js\";\n\nexport const getAllureState = () => {\n  let state = Cypress.env(\"allure\") as AllureSpecState;\n  if (!state) {\n    state = {\n      initialized: false,\n      messages: [],\n      testPlan: undefined,\n    };\n    Cypress.env(\"allure\", state);\n  }\n  return state;\n};\n\nexport const isAllureInitialized = () => getAllureState().initialized;\n\nexport const setAllureInitialized = () => {\n  getAllureState().initialized = true;\n};\n\nexport const getRuntimeMessages = () => getAllureState().messages;\n\nexport const setRuntimeMessages = (value: CypressMessage[]) => {\n  getAllureState().messages = value;\n};\n\nexport const enqueueRuntimeMessage = (message: CypressMessage) => {\n  getRuntimeMessages().push(message);\n};\n\nexport const getAllureTestPlan = () => getAllureState().testPlan;\n"],"mappings":"AAEA,OAAO,IAAMA,cAAc,GAAGA,CAAA,KAAM;EAClC,IAAIC,KAAK,GAAGC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAoB;EACpD,IAAI,CAACF,KAAK,EAAE;IACVA,KAAK,GAAG;MACNG,WAAW,EAAE,KAAK;MAClBC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAEC;IACZ,CAAC;IACDL,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,KAAK,CAAC;EAC9B;EACA,OAAOA,KAAK;AACd,CAAC;AAED,OAAO,IAAMO,mBAAmB,GAAGA,CAAA,KAAMR,cAAc,CAAC,CAAC,CAACI,WAAW;AAErE,OAAO,IAAMK,oBAAoB,GAAGA,CAAA,KAAM;EACxCT,cAAc,CAAC,CAAC,CAACI,WAAW,GAAG,IAAI;AACrC,CAAC;AAED,OAAO,IAAMM,kBAAkB,GAAGA,CAAA,KAAMV,cAAc,CAAC,CAAC,CAACK,QAAQ;AAEjE,OAAO,IAAMM,kBAAkB,GAAIC,KAAuB,IAAK;EAC7DZ,cAAc,CAAC,CAAC,CAACK,QAAQ,GAAGO,KAAK;AACnC,CAAC;AAED,OAAO,IAAMC,qBAAqB,GAAIC,OAAuB,IAAK;EAChEJ,kBAAkB,CAAC,CAAC,CAACK,IAAI,CAACD,OAAO,CAAC;AACpC,CAAC;AAED,OAAO,IAAME,iBAAiB,GAAGA,CAAA,KAAMhB,cAAc,CAAC,CAAC,CAACM,QAAQ","ignoreList":[]}